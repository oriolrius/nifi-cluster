<mxfile host="app.diagrams.net" modified="2025-11-14T00:00:00.000Z" agent="draw.io" version="22.1.0">
  <diagram name="Site-to-Site Communication" id="s2s-communication">
    <mxGraphModel dx="1600" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Inter-Cluster Communication: Site-to-Site (S2S) Protocol" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Cluster01 Section -->
        <mxCell id="cluster01-section" value="Cluster01 (Source)" style="swimlane;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;swimlaneFillColor=#E6F2FF;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="340" height="720" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-1-box" value="cluster01.nifi-1" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#4a90e2;strokeColor=#1e5a8f;fontColor=#ffffff;" vertex="1" parent="cluster01-section">
          <mxGeometry x="20" y="40" width="300" height="200" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-1-https" value="HTTPS: :30443&lt;br&gt;S2S Port: :30100" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c1-nifi-1-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c1-cert-box" value="Certificate:&lt;br&gt;CN=cluster01.nifi-1.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c1-nifi-1-box">
          <mxGeometry x="10" y="80" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c1-rpg" value="Remote Process Group (RPG)&lt;br&gt;&lt;br&gt;Target URL:&lt;br&gt;https://cluster02.nifi-1.ymbihq.local:31443/nifi&lt;br&gt;&lt;br&gt;Connection: Sends FlowFiles to Cluster02" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#b0c4de;strokeColor=#4682b4;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="c1-nifi-1-box">
          <mxGeometry x="10" y="150" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-2-box" value="cluster01.nifi-2" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#4a90e2;strokeColor=#1e5a8f;fontColor=#ffffff;" vertex="1" parent="cluster01-section">
          <mxGeometry x="20" y="260" width="300" height="140" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-2-https" value="HTTPS: :30444&lt;br&gt;S2S Port: :30101" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c1-nifi-2-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-2-cert" value="Certificate:&lt;br&gt;CN=cluster01.nifi-2.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c1-nifi-2-box">
          <mxGeometry x="10" y="70" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-3-box" value="cluster01.nifi-3" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#4a90e2;strokeColor=#1e5a8f;fontColor=#ffffff;" vertex="1" parent="cluster01-section">
          <mxGeometry x="20" y="420" width="300" height="140" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-3-https" value="HTTPS: :30445&lt;br&gt;S2S Port: :30102" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c1-nifi-3-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c1-nifi-3-cert" value="Certificate:&lt;br&gt;CN=cluster01.nifi-3.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c1-nifi-3-box">
          <mxGeometry x="10" y="70" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c1-ca-trust" value="Trusts Shared CA&lt;br&gt;Location: certs/ca/ca-cert.pem" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#ff6b6b;strokeColor=#cc0000;fontColor=#ffffff;fontStyle=1" vertex="1" parent="cluster01-section">
          <mxGeometry x="20" y="580" width="300" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c1-network" value="Network: cluster01-network&lt;br&gt;Ports: 30000-30999" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="cluster01-section">
          <mxGeometry x="20" y="660" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- Cluster02 Section -->
        <mxCell id="cluster02-section" value="Cluster02 (Target)" style="swimlane;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;swimlaneFillColor=#F3E5F5;" vertex="1" parent="1">
          <mxGeometry x="1220" y="100" width="340" height="720" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-1-box" value="cluster02.nifi-1" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#7b68ee;strokeColor=#5a3f9e;fontColor=#ffffff;" vertex="1" parent="cluster02-section">
          <mxGeometry x="20" y="40" width="300" height="200" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-1-https" value="HTTPS: :31443&lt;br&gt;S2S Port: :31100" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c2-nifi-1-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c2-cert-box" value="Certificate:&lt;br&gt;CN=cluster02.nifi-1.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c2-nifi-1-box">
          <mxGeometry x="10" y="80" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c2-input-port" value="Input Port: &quot;From Cluster01&quot;&lt;br&gt;&lt;br&gt;Receives FlowFiles from Cluster01" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;fillColor=#98fb98;strokeColor=#2d7a4f;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="c2-nifi-1-box">
          <mxGeometry x="10" y="150" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-2-box" value="cluster02.nifi-2" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#7b68ee;strokeColor=#5a3f9e;fontColor=#ffffff;" vertex="1" parent="cluster02-section">
          <mxGeometry x="20" y="260" width="300" height="140" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-2-https" value="HTTPS: :31444&lt;br&gt;S2S Port: :31101" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c2-nifi-2-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-2-cert" value="Certificate:&lt;br&gt;CN=cluster02.nifi-2.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c2-nifi-2-box">
          <mxGeometry x="10" y="70" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-3-box" value="cluster02.nifi-3" style="swimlane;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;fillColor=#7b68ee;strokeColor=#5a3f9e;fontColor=#ffffff;" vertex="1" parent="cluster02-section">
          <mxGeometry x="20" y="420" width="300" height="140" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-3-https" value="HTTPS: :31445&lt;br&gt;S2S Port: :31102" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#ffffff;" vertex="1" parent="c2-nifi-3-box">
          <mxGeometry x="10" y="30" width="280" height="40" as="geometry" />
        </mxCell>

        <mxCell id="c2-nifi-3-cert" value="Certificate:&lt;br&gt;CN=cluster02.nifi-3.ymbihq.local&lt;br&gt;Signed by: Shared CA" style="rounded=0;whiteSpace=wrap;html=1;fontSize=10;fillColor=#fff4e6;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="c2-nifi-3-box">
          <mxGeometry x="10" y="70" width="280" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c2-ca-trust" value="Trusts Shared CA&lt;br&gt;Location: certs/ca/ca-cert.pem" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#ff6b6b;strokeColor=#cc0000;fontColor=#ffffff;fontStyle=1" vertex="1" parent="cluster02-section">
          <mxGeometry x="20" y="580" width="300" height="60" as="geometry" />
        </mxCell>

        <mxCell id="c2-network" value="Network: cluster02-network&lt;br&gt;Ports: 31000-31999" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" vertex="1" parent="cluster02-section">
          <mxGeometry x="20" y="660" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- Communication Flow (Middle Section) -->
        <mxCell id="flow-section" value="Site-to-Site Communication Flow" style="swimlane;whiteSpace=wrap;html=1;fontSize=14;fontStyle=1;fillColor=#fff4e6;strokeColor=#d6b656;swimlaneFillColor=#FFF8E1;" vertex="1" parent="1">
          <mxGeometry x="420" y="100" width="760" height="720" as="geometry" />
        </mxCell>

        <!-- Step 1 -->
        <mxCell id="step1-box" value="Step 1: TLS Handshake &amp; Mutual Authentication" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#b0e0e6;strokeColor=#4682b4;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="40" width="720" height="80" as="geometry" />
        </mxCell>

        <mxCell id="step1-text" value="• Cluster01 NiFi-1 initiates TLS connection to Cluster02 NiFi-1:31443&lt;br&gt;• Both sides present certificates signed by Shared CA&lt;br&gt;• Cluster01 verifies Cluster02 cert against CA truststore&lt;br&gt;• Cluster02 verifies Cluster01 cert against CA truststore&lt;br&gt;• Mutual TLS authentication succeeds ✓" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="65" width="700" height="50" as="geometry" />
        </mxCell>

        <!-- Step 2 -->
        <mxCell id="step2-box" value="Step 2: S2S Peer Discovery" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#d8bfd8;strokeColor=#9370db;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="140" width="720" height="100" as="geometry" />
        </mxCell>

        <mxCell id="step2-text" value="• Cluster01 requests: GET /nifi-api/site-to-site/peers&lt;br&gt;• Cluster02 responds with peer list:&lt;br&gt;  {&quot;peers&quot;: [&lt;br&gt;    {&quot;hostname&quot;: &quot;cluster02.nifi-1.ymbihq.local&quot;, &quot;port&quot;: 31100, &quot;secure&quot;: true},&lt;br&gt;    {&quot;hostname&quot;: &quot;cluster02.nifi-2.ymbihq.local&quot;, &quot;port&quot;: 31101, &quot;secure&quot;: true},&lt;br&gt;    {&quot;hostname&quot;: &quot;cluster02.nifi-3.ymbihq.local&quot;, &quot;port&quot;: 31102, &quot;secure&quot;: true}&lt;br&gt;  ]}" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Courier New;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="165" width="700" height="70" as="geometry" />
        </mxCell>

        <!-- Step 3 -->
        <mxCell id="step3-box" value="Step 3: Load-Balanced Data Transfer" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#90ee90;strokeColor=#2d7a4f;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="260" width="720" height="100" as="geometry" />
        </mxCell>

        <mxCell id="step3-text" value="• Cluster01 distributes FlowFiles across available Cluster02 peers:&lt;br&gt;  - Batch 1 → cluster02.nifi-1:31100 (via S2S port)&lt;br&gt;  - Batch 2 → cluster02.nifi-2:31101 (via S2S port)&lt;br&gt;  - Batch 3 → cluster02.nifi-3:31102 (via S2S port)&lt;br&gt;• All traffic encrypted with TLS&lt;br&gt;• Automatic load balancing across cluster02 nodes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="285" width="700" height="70" as="geometry" />
        </mxCell>

        <!-- Step 4 -->
        <mxCell id="step4-box" value="Step 4: Flow Processing in Target Cluster" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#ffd700;strokeColor=#b8860b;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="380" width="720" height="80" as="geometry" />
        </mxCell>

        <mxCell id="step4-text" value="• FlowFiles received at Input Port: &quot;From Cluster01&quot;&lt;br&gt;• Cluster02 processes FlowFiles through its own flow&lt;br&gt;• Data is now in Cluster02's domain&lt;br&gt;• Cluster02 can route to additional processors or output ports" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="405" width="700" height="50" as="geometry" />
        </mxCell>

        <!-- Key Protocol Features -->
        <mxCell id="protocol-features" value="S2S Protocol Features" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#f0e68c;strokeColor=#bdb76b;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="480" width="720" height="110" as="geometry" />
        </mxCell>

        <mxCell id="protocol-text" value="✓ Secure: Mutual TLS authentication (both sides verify certificates)&lt;br&gt;✓ Efficient: Batch transfers, optional compression&lt;br&gt;✓ Reliable: Transaction-based protocol with acknowledgments&lt;br&gt;✓ Load Balanced: Automatically distributes across target cluster nodes&lt;br&gt;✓ Bi-directional: Can send and receive FlowFiles&lt;br&gt;✓ Port-based: Dedicated S2S ports (31100-31102) separate from HTTPS UI&lt;br&gt;✓ Peer Discovery: Automatic discovery of target cluster topology" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="505" width="700" height="80" as="geometry" />
        </mxCell>

        <!-- Prerequisites -->
        <mxCell id="prereq-box" value="Prerequisites for Cross-Cluster S2S" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#ffb6c1;strokeColor=#ff69b4;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="flow-section">
          <mxGeometry x="20" y="610" width="720" height="90" as="geometry" />
        </mxCell>

        <mxCell id="prereq-text" value="1. DOMAIN configured in .env (e.g., DOMAIN=ymbihq.local)&lt;br&gt;2. DNS resolution OR extra_hosts in docker-compose for FQDNs&lt;br&gt;3. Shared CA certificates in both clusters (automatic with ./cluster create)&lt;br&gt;4. Remote Process Group (RPG) configured in source cluster&lt;br&gt;5. Input Port created in target cluster&lt;br&gt;6. Connection from processor to RPG in source cluster" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="flow-section">
          <mxGeometry x="30" y="635" width="700" height="60" as="geometry" />
        </mxCell>

        <!-- Connection arrows -->
        <mxCell id="conn-c1-to-flow" value="Initiates S2S" style="endArrow=classic;html=1;rounded=0;fontSize=11;strokeColor=#4682b4;strokeWidth=3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="c1-nifi-1-box" target="step1-box">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="500" as="sourcePoint" />
            <mxPoint x="750" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conn-flow-to-c2" value="Delivers FlowFiles" style="endArrow=classic;html=1;rounded=0;fontSize=11;strokeColor=#2d7a4f;strokeWidth=3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="step3-box" target="c2-nifi-1-box">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="500" as="sourcePoint" />
            <mxPoint x="750" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conn-load-balance-1" value="" style="endArrow=classic;html=1;rounded=0;fontSize=9;strokeColor=#2d7a4f;strokeWidth=2;dashed=1;dashPattern=5 5;exitX=1;exitY=0.7;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="step3-box" target="c2-nifi-2-box">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="500" as="sourcePoint" />
            <mxPoint x="750" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conn-load-balance-2" value="" style="endArrow=classic;html=1;rounded=0;fontSize=9;strokeColor=#2d7a4f;strokeWidth=2;dashed=1;dashPattern=5 5;exitX=1;exitY=0.9;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="step3-box" target="c2-nifi-3-box">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="500" as="sourcePoint" />
            <mxPoint x="750" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Shared CA Box -->
        <mxCell id="shared-ca-box" value="Shared Certificate Authority (CA)" style="rounded=1;whiteSpace=wrap;html=1;fontSize=13;fillColor=#ff6b6b;strokeColor=#cc0000;fontColor=#ffffff;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="650" y="30" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- CA trust lines -->
        <mxCell id="ca-trust-c1" value="trusts" style="endArrow=classic;html=1;rounded=0;fontSize=10;strokeColor=#d6b656;strokeWidth=2;dashed=1;dashPattern=3 3;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="shared-ca-box" target="c1-ca-trust">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="400" as="sourcePoint" />
            <mxPoint x="750" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="ca-trust-c2" value="trusts" style="endArrow=classic;html=1;rounded=0;fontSize=10;strokeColor=#d6b656;strokeWidth=2;dashed=1;dashPattern=3 3;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="shared-ca-box" target="c2-ca-trust">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="400" as="sourcePoint" />
            <mxPoint x="750" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Summary Box -->
        <mxCell id="summary-box" value="Why Shared CA Enables S2S:&lt;br&gt;&lt;br&gt;• All cluster certificates signed by same CA&lt;br&gt;• Both clusters have same CA certificate in truststores&lt;br&gt;• No need to exchange certificates between clusters&lt;br&gt;• Mutual TLS authentication works automatically&lt;br&gt;• Works for ANY number of clusters (cluster01, cluster02, cluster03, ...)&lt;br&gt;• Simplifies PKI management: Single CA to maintain&lt;br&gt;• Enables secure mesh topology for complex data flows" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#d5e8d4;strokeColor=#82b366;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="840" width="1520" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
